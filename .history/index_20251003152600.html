<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <title>Mesaj</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fadeSlide {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .reveal {
      opacity: 0;
      animation: fadeSlide 1.5s ease forwards;
    }
    .delay-1 { animation-delay: 1s; }
    .delay-2 { animation-delay: 2s; }
    .delay-3 { animation-delay: 3s; }
    .delay-4 { animation-delay: 4s; }
    .delay-5 { animation-delay: 5s; }

    /* Modal stilleri */
    .modal {
      display: none;
      position: fixed;
      z-index: 50;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      max-width: 300px;
      width: 80%;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      animation: fadeSlide 0.5s ease forwards;
    }
  </style>
</head>
<body class="bg-white text-black flex flex-col items-center justify-center min-h-screen px-4">
  <div class="max-w-3xl text-center">

    <!-- Metinler -->
    <h1 class="text-2xl md:text-3xl font-bold reveal">
      Sözlerin değerini kaybettin,
    </h1>
    <h1 class="text-2xl md:text-3xl font-bold reveal delay-1 mt-4">
      çünkü herkese aynılarını söylüyorsun.
    </h1>
    <h1 class="text-2xl md:text-3xl font-bold text-gray-800 reveal delay-2 mt-4">
      Benim için değer, tekrarda değil; samimiyette.
    </h1>
    <p class="text-md text-gray-500 reveal delay-3">— Ulu kişi</p>

    <div class="border-t border-gray-300 mt-10 mb-6 w-1/2 mx-auto reveal delay-3"></div>

    <!-- Alıntı -->
    <p class="mt-4 text-lg italic text-gray-600 reveal delay-3">
      “Kendi yolunu bulamayan, herkesin yolunda kaybolur.”
    </p>
    <p class="text-md text-gray-400 reveal delay-3">— Friedrich Nietzsche</p>

    <!-- Gif -->
    <div class="mt-10 reveal delay-4">
      <img src="https://media1.tenor.com/m/0aKZn1alLRQAAAAd/la-la-land-ending.gif" 
           alt="La La Land Ending" 
           class="mx-auto rounded-lg shadow-lg w-full max-w-md">
    </div>

    <!-- Oyun -->
    <h2 class="text-xl font-bold mt-10 mb-4 reveal delay-5 text-gray-900">
      Tavuklu pilav oyunu v1 🍗🍚
    </h2>
    <div id="game" class="reveal delay-5" 
         style="position: relative; width: 100%; max-width: 600px; height: 200px; background: #fff; margin: 0 auto; overflow: hidden; border: 2px solid #ccc; border-radius: 8px;">
      <img id="tavuk" src="./tavuk.png" 
           style="position: absolute; bottom: 0; left: 50px; width: 50px; height: 50px;">
      <img id="pilav" src="./pilav.png" 
           style="position: absolute; bottom: 0; right: -60px; width: 50px; height: 50px;">
    </div>
  </div>

  <!-- Modal -->
  <div id="gameModal" class="modal">
    <div class="modal-content">
      <h3 class="text-lg font-bold mb-4">Bugün de tavuklu pilav yiyemedin :(</h3>
      <button id="restartBtn" class="px-4 py-2 bg-red-600 text-white rounded">Tekrar Oyna</button>
    </div>
  </div>

  <script>
    const tavuk = document.getElementById("tavuk");
    const pilav = document.getElementById("pilav");
    const restartBtn = document.getElementById("restartBtn");
    const modal = document.getElementById("gameModal");

    let isJumping = false;
    let gameOver = false;
    let timerId;

    function jump() {
      if (isJumping || gameOver) return;
      isJumping = true;
      let position = 0;
      const upInterval = setInterval(() => {
        if (position >= 100) {
          clearInterval(upInterval);
          const downInterval = setInterval(() => {
            if (position <= 0) {
              clearInterval(downInterval);
              isJumping = false;
            }
            position -= 5;
            tavuk.style.bottom = position + "px";
          }, 20);
        }
        position += 5;
        tavuk.style.bottom = position + "px";
      }, 20);
    }

    function movePilav() {
      let pilavPosition = 600;
      timerId = setInterval(() => {
        if (gameOver) return;
        if (pilavPosition < -60) {
          pilavPosition = 600;
        }
        pilavPosition -= 3;
        pilav.style.left = pilavPosition + "px";

        let tavukBottom = parseInt(window.getComputedStyle(tavuk).getPropertyValue("bottom"));
        if (pilavPosition > 50 && pilavPosition < 90 && tavukBottom < 40) {
          gameOver = true;
          clearInterval(timerId);
          modal.style.display = "flex"; // ✅ alert yerine modal aç
        }
      }, 20);
    }

    // PC Space tuşu
    document.addEventListener("keydown", event => {
      if (event.code === "Space") {
        jump();
      }
    });

    // Dokunmatik ekran için
    document.getElementById("game").addEventListener("touchstart", () => {
      jump();
    });

    restartBtn.addEventListener("click", () => {
      gameOver = false;
      modal.style.display = "none"; // modal kapat
      pilav.style.left = "600px";
      movePilav();
    });

    // Oyunu başlat
    setTimeout(() => movePilav(), 5000); // yazı+gif animasyonu bitsin sonra başlasın
  </script>
</body>
</html>
